<!DOCTYPE html>
<html>
<head>
	
<script src="p5.js" type="text/javascript"></script>
<script src="qrcode.min.js" type="text/javascript"></script>
<script src="p5.dom.js" type="text/javascript"></script>
<script src="p5.sound.js" type="text/javascript"></script>
<script src="conversoes.js" type="text/javascript"></script>
<script src="salvar.js" type="text/javascript"></script>
<script src="interacao_mouse.js" type="text/javascript"></script>
<script src="grade.js" type="text/javascript"></script>
<script src="polygon.js" type="text/javascript"></script>
<script src="decode.js" type="text/javascript"></script>
<script src="buttons.js" type="text/javascript"></script>
<script src="Canvas.js" type="text/javascript"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<link rel="stylesheet" href="style.css"></link>
<meta charset="UTF-8">
<title>Plano Cartesiano</title>
</head>
<body>
	<ul id=navbar>
		<li id=botao_compartilhar class="botoesnav" onclick=show_hide('compartilhamento','botao_compartilhar')>Exportar</li>
		<li id=botao_limpar class="botoesnav" onclick=limpar_tela()>Limpar</li>
		<li id="botao_importar" class="botoesnav" onclick=show_hide('importacao','botao_importar')>Importar</li>
	</ul>

<div id="importacao">
	<input type="file" id=inputfile>
	<div class="botao1" onclick=importar_arquivo()>Importar</div>
</div>
<div id=compartilhamento>
	<div class=compartcontainer>
		<h2>Link</h2>
		<div id=botao_gerarlink class=botao1 onclick="gerar_link()">Gerar Link</div>
		<input id=compartlink value="•Link•" readonly=readonly></input>
	</div>
	
	<div class=compartcontainer><h2>Salvar no navegador</h2>
	<div id=botao_armazenar class=botao1 onclick="armazenar_navegador()">Salvar</div>
		</div>
	
	<div class=compartcontainer>
		<h2>Gerar QR-CODE</h2>
		<div id=botao_gerarqrcode class=botao1 onclick="gerar_qrcode()">Gerar</div>
		<div id="qrcode"></div>
	</div>
	<div class=compartcontainer>
		<h2>Gerar .txt</h2>
		<div id=botao_gerararquivo class=botao1 onclick="gerar_arquivo()">Gerar</div>
	</div>
</div>
<div id=canvas2 ></div>
<script>
	var middledragstart = [0,0];
	var middledragactive = false;
	sketch = new p5(sketch);
	$("#canvas2").on("mousedown mousemove mouseup",function(e)
	{
		if(e.type=="mousedown")
		{
			if(e.which==2)
			{
				e.preventDefault();
				middledragstart = [posicao_do_pixel_x(e.pageX),posicao_do_pixel_y(e.pageY)];
				middledragactive = true;
				console.log("banana");
			}
		}
		else if(e.type=="mousemove")
		{
			if(middledragactive)
			{
				e.preventDefault();
				console.log("batata");
				mvevent = new moving(2,-posicao_do_pixel_x(e.pageX)+middledragstart[0],-posicao_do_pixel_y(e.pageY)+middledragstart[1]);
				middledragstart = [posicao_do_pixel_x(e.pageX),posicao_do_pixel_y(e.pageY)];
			}
		}
		else if(e.type=="mouseup")
		{
			if(e.which==2)
			{
				e.preventDefault();
				console.log("beterraba");
				middledragstart = [0,0]
				middledragactive = false;
			}
		}
	
	});
	$("#canvas2").on("click",function(e)
	{
		mouse_clicked_canvas(e);
	});

</script>
<script src="importar.js" type="text/javascript"></script>
</body>
</html>

